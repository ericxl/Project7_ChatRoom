I feel we can refer to the structre preseted in this post.
http://www.dreamincode.net/forums/topic/259777-a-simple-chat-program-with-clientserver-gui-optional/